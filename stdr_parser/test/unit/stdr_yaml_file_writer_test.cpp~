/******************************************************************************
   STDR Simulator - Simple Two DImensional Robot Simulator
   Copyright (C) 2013 STDR Simulator
   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 3 of the License, or
   (at your option) any later version.
   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software Foundation,
   Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA

   Authors :
   * Eleni Nisioti, elennisioti@gmail.com
******************************************************************************/

#include <gtest/gtest.h>
#include "stdr_parser/stdr_parser_yaml_file_writer.h"
#include "stdr_parser_xml_file_writer_test.cpp"



namespace stdr_parser
{

class YamlFileWriterTest : public ::testing::Test, public XmlFileWriterTest
{

  

}

TEST_F(YamlFileWriterTest, messageToYamlElementNoise)
{
  init("/test/files/elements/element.xml");
  stdr_msgs::Noise msg;
  std::string values[] = {"1", "2", "0.2"};
  sub_elements els;
  els.values=values;
  XmlFileWriterTest::createMessage(&msg, els);
  YAML::Emitter out;
  out << msg;
  std::ofstream sensorYamlFile;    
  sensorYamlFile.open(file_name.c_str());
  sensorYamlFile << out.c_str();
  sensorYamlFile.close();
  std::string element = readFile(utils_file_);
  init("/test/files/elements/element_ex_Noise.xml");
  std::string expected_element = readFile(utils_file_);
  EXPECT_STREQ(element.c_str(), expected_element.c_str());
}

}




